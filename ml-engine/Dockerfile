zFROM python:3.9-slim

  WORKDIR /app

  # Install system dependencies
  RUN apt-get update && apt-get install -y \
      gcc \
      g++ \
      && rm -rf /var/lib/apt/lists/*

  # Copy requirements and install Python dependencies
  COPY requirements.txt .
  RUN pip install --no-cache-dir -r requirements.txt

  # Download spaCy model
  RUN python -m spacy download en_core_web_sm

  # Copy application code
  COPY . .

  # Create necessary directories
  RUN mkdir -p uploads logs

  # Expose port
  EXPOSE 5000

  # Run the application
  CMD ["gunicorn", "--bind", "0.0.0.0:5000", "--workers", "2", "--timeout", "120", "app:app"]
